version: '3.9'

networks:
  rpi4b-network:
    name: rpi4b-network
    driver: bridge
    ipam:
      config:
        - subnet: 172.21.0.0/24
  mysql-network:
    driver: bridge
    name: mysql-network

secrets:
  mysql_pwd:
    file: $DOCKERDIR/secrets/mysql_pwd

include:
  # PREFIX dns = DNS / AdBlock Server

  # Adblocking
  - compose/$HOSTNAME/adguardhome.yml

  # DNS Resolver
  - compose/$HOSTNAME/unbound.yml

  # DDNS 
  - compose/$HOSTNAME/cloudflare-ddns.yml

  # Database
  - compose/$HOSTNAME/mysql.yml
  - compose/$HOSTNAME/phpmyadmin.yml